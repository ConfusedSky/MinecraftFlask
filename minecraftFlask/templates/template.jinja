<!doctype html>

<html>
<head>
<title>UCI Triangle Minecraft Server Dashboard</title>

<style>

.header {
    overflow: hidden;
    border-left: 6px solid red;
    background-color: black;
    font-size: 20px;
    color: white;
    position: fixed;
    top: 0;
    width: 100%
}

.main {
    margin-top: 30px;
}

#messages { list-style-type: none; margin: 0; padding: 0; }
#messages li { padding: 5px 10px; }
#messages li:nth-child(odd) { background: #eee; }

</style>
</head>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    $(function () {
        var socket = io();

        socket.on('server log', function(msg) {
            $('#messages').append($('<li>').text(msg));
        });
        socket.on('disconnect', function() {
            $('#messages').append($('<li>').text("Server disconnected"));
        });
        socket.on('connect', function() {
            $('#messages').append($('<li>').text("Server connected"));
        });
    });
</script>
<body>
<div class="header">
    &nbsp;
    
    {% if serverUp %}
        The server has the following players online 
        ({{ query.players.online }}/{{ query.players.max }}): 
        {{ ", ".join(query.players.names) }}
    {% else %}
        Minecraft server currently down
    {% endif %}
</div>
<div class="main">
    <p>
    <ul id="messages">
        {% if serverUp %}
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        {% endif %}
    </ul>
</div>
</body>
</html>
